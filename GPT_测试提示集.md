# ChatGPT GPT 测试提示集（Douglas Mo 数字孪生）

## 🎯 测试目标

验证 GPT Action 能够正确调用后端 API 并返回准确的专业信息。每个测试覆盖不同的 API 端点和用例。

---

## 📋 测试前准备

1. ✅ GPT 已创建并发布（使用 `GPT_配置指南.md`）
2. ✅ 获得分享链接（格式：`https://chat.openai.com/g/g-xxxxx`）
3. ✅ 后端 API 部署成功（https://douglasmo.vercel.app/api/openapi 返回有效 JSON）

---

## 🧪 测试提示集（按优先级排序）

### **测试 1：基础背景查询**
**目标**：验证 RAG 检索和基础信息返回

**提示**：
```
你好！请介绍一下 Douglas Mo 的专业背景和核心技能。
```

**预期响应**：
- ✅ 包含工作经历摘要（公司名称、职位、时间段）
- ✅ 列出核心技术技能（如 JavaScript、Python、React、Node.js）
- ✅ 提到教育背景（学位、学校）
- ✅ 响应时间 < 5 秒

**检查点**：
- GPT 是否调用了 `/api/chat` 端点？（通常会显示 "正在使用 Douglas Mo Digital Twin API" 提示）
- 返回的信息是否具体且真实？（不是泛泛而谈）

---

### **测试 2：技术栈深度查询**
**目标**：验证技能分类和详细信息

**提示**：
```
Douglas 在全栈开发方面有哪些具体技术栈？请按前端、后端、数据库分类说明。
```

**预期响应**：
- ✅ 前端：React、Next.js、TypeScript、Tailwind CSS 等
- ✅ 后端：Node.js、Express、Python、FastAPI 等
- ✅ 数据库：MongoDB、PostgreSQL、Redis、Vector DB 等
- ✅ 包含熟练度或使用年限（如果数据中有）

**检查点**：
- 分类是否清晰？
- 是否包含具体版本或工具链（如 React 18、Node.js 20）？

---

### **测试 3：项目作品集查询**
**目标**：验证项目检索和详细描述

**提示**：
```
请介绍 Douglas 的数字孪生（Digital Twin）项目，包括技术架构、主要功能和创新点。
```

**预期响应**：
- ✅ 项目名称和简介
- ✅ 技术栈（Next.js、RAG、Vector DB、Groq API 等）
- ✅ 核心功能（聊天、反馈、质量评分、VS Code 扩展、ChatGPT Action）
- ✅ 量化指标（如代码行数、API 响应时间、准确率）

**检查点**：
- 是否提到 Week 7 实现的 VS Code 扩展和 ChatGPT Actions？
- 技术深度是否足够（如 RAG 流程、向量检索）？

---

### **测试 4：工作经历详情**
**目标**：验证时间线和职责描述

**提示**：
```
Douglas 在之前的工作中主要负责什么？请列举具体项目和成果。
```

**预期响应**：
- ✅ 公司名称和时间段
- ✅ 职位和主要职责
- ✅ 具体项目案例
- ✅ 量化成果（如提升性能 X%、减少成本 Y、用户增长 Z）

**检查点**：
- 是否包含 STAR 格式元素（Situation、Task、Action、Result）？
- 成果是否有数据支撑？

---

### **测试 5：AI/机器学习经验**
**目标**：验证特定领域深度

**提示**：
```
Douglas 在 AI 和机器学习方面有什么经验？请详细说明使用的技术和实际应用。
```

**预期响应**：
- ✅ AI 框架/工具（如 LangChain、Groq、OpenAI、Hugging Face）
- ✅ 具体应用场景（如 RAG、向量检索、prompt engineering）
- ✅ 技术细节（embedding 模型、向量数据库、LLM 调优）
- ✅ 实际项目引用（如数字孪生项目的 RAG 实现）

**检查点**：
- 是否区分了传统 ML 和生成式 AI？
- 是否提到实际部署和性能优化？

---

### **测试 6：面试场景 - STAR 回答**
**目标**：验证行为面试问题处理

**提示**：
```
给我一个 Douglas 展示领导力或解决复杂技术问题的具体例子，使用 STAR 格式。
```

**预期响应**：
- ✅ **Situation（情境）**：清晰的背景描述
- ✅ **Task（任务）**：明确的目标或挑战
- ✅ **Action（行动）**：具体的解决步骤和技术决策
- ✅ **Result（结果）**：量化的成果和影响

**检查点**：
- 结构是否完整（四个部分都有）？
- 是否包含技术深度（如架构选择、性能优化）？

---

### **测试 7：技能对比查询**
**目标**：验证横向比较能力

**提示**：
```
Douglas 在前端和后端开发中，哪个方面更擅长？请对比说明。
```

**预期响应**：
- ✅ 两方面的技能列表
- ✅ 项目经验对比（如前端项目 X 个，后端项目 Y 个）
- ✅ 熟练度评估（基于使用时长或项目复杂度）
- ✅ 个人倾向或专长领域

**检查点**：
- 是否基于真实数据而非推测？
- 对比是否客观且有依据？

---

### **测试 8：多轮对话 - 深入追问**
**目标**：验证上下文保持和深度挖掘

**第一轮提示**：
```
Douglas 做过哪些云计算相关的项目？
```

**第二轮提示**（基于第一轮回答）：
```
那个 [具体项目名称] 项目中，他是如何处理数据库性能优化的？
```

**预期行为**：
- ✅ 第二轮能理解上下文（"那个项目" 指代第一轮提到的项目）
- ✅ 提供更深入的技术细节
- ✅ 可能需要再次调用 API 获取更多信息

**检查点**：
- GPT 是否记住了对话历史？
- 深入回答是否比第一轮更具体？

---

### **测试 9：反馈功能（如果 API 支持）**
**目标**：验证反馈 API 端点

**提示**：
```
这个回答非常有帮助，谢谢！
```

或明确触发反馈：
```
我想对刚才的回答给予正面反馈。
```

**预期行为**：
- ✅ GPT 调用 `/api/feedback` 端点
- ✅ 确认反馈已记录
- ✅ 可能返回感谢消息或统计信息

**检查点**：
- 后端是否记录了反馈（检查 Redis 或日志）？
- GPT 是否正确识别了正面/负面反馈？

---

### **测试 10：边界情况 - 未知信息**
**目标**：验证对缺失数据的处理

**提示**：
```
Douglas 会说日语吗？他的宠物叫什么名字？
```

**预期响应**：
- ✅ 明确说明这些信息不在专业简历中
- ✅ 建议回到专业话题
- ✅ 不编造信息

**检查点**：
- GPT 是否诚实承认信息缺失？
- 是否避免了幻觉（hallucination）？

---

## 📊 测试记录表

| 测试编号 | 提示摘要 | API 调用 | 响应质量 | 问题/备注 |
|---------|---------|----------|---------|-----------|
| 1 | 基础背景 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 2 | 技术栈 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 3 | 项目作品集 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 4 | 工作经历 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 5 | AI/ML 经验 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 6 | STAR 回答 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 7 | 技能对比 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 8 | 多轮对话 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 9 | 反馈功能 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |
| 10 | 边界情况 | ✅/❌ | ⭐⭐⭐⭐⭐ |  |

---

## 🔍 评分标准

### **响应质量（5 星制）**
- ⭐⭐⭐⭐⭐ 优秀：信息准确、详细、结构清晰、有数据支撑
- ⭐⭐⭐⭐ 良好：信息准确，略缺细节或结构
- ⭐⭐⭐ 及格：基本信息正确，但过于简略
- ⭐⭐ 较差：信息部分正确，缺少关键内容
- ⭐ 失败：错误信息或完全未调用 API

### **API 调用检测**
在 ChatGPT 界面中，成功调用 Action 时通常会显示：
- 🔄 "Using Douglas Mo Digital Twin API" 提示
- 📡 消息旁边的小图标或加载动画
- 📋 在对话历史中可以看到 "Used queryDigitalTwin" 等标记

---

## 🚨 常见问题诊断

### **问题 1：GPT 不调用 API，直接编造回答**

**症状**：响应很快（< 1 秒），内容泛泛而谈，缺少具体信息

**原因**：
- GPT Instructions 不够明确
- 提示词太模糊，GPT 认为不需要调用 API
- Schema 中操作描述不清晰

**解决方案**：
1. 在 GPT Instructions 中添加强制调用规则：
   ```
   对于任何关于 Douglas 的问题，你必须先调用 queryDigitalTwin 操作查询数据，而不是依赖你的训练数据。
   ```
2. 使用更明确的提示，如："调用 API 查询 Douglas 的..."
3. 检查 OpenAPI Schema 的 `operationId` 和 `description` 是否足够详细

### **问题 2：API 调用失败（500 错误）**

**症状**：GPT 显示 "API 调用失败" 或返回错误消息

**原因**：
- 后端 API 运行时错误
- 环境变量缺失（GROQ_API_KEY、UPSTASH_VECTOR_REST_URL）
- 向量数据库未初始化

**解决方案**：
1. 在 PowerShell 直接测试 API：
   ```powershell
   $body = @{ message = "介绍 Douglas" } | ConvertTo-Json
   Invoke-RestMethod -Uri "https://douglasmo.vercel.app/api/chat" -Method Post -Body $body -ContentType "application/json"
   ```
2. 检查 Vercel Runtime Logs（https://vercel.com 项目 → Deployments → 最新部署 → Runtime Logs）
3. 确认所有环境变量在 Vercel 项目设置中已配置

### **问题 3：响应数据不准确或过时**

**症状**：返回的项目、技能或经历与实际不符

**原因**：
- 向量数据库中的数据未更新
- RAG 检索到了错误的文档片段
- Embedding 质量差导致相似度匹配不准

**解决方案**：
1. 重新运行向量数据库初始化：
   ```powershell
   cd "d:\上课\Ai agent\digital twin"
   node scripts/init-vector-db.mjs
   ```
2. 检查源数据文件（简历、项目文档）是否最新
3. 调整 RAG 检索参数（如 `topK`、相似度阈值）

### **问题 4：反馈功能无响应**

**症状**：发送反馈后 GPT 没有反应或报错

**原因**：
- `/api/feedback` 端点未在 OpenAPI Schema 中定义
- GPT 没有理解反馈意图
- 后端反馈 API 有 bug

**解决方案**：
1. 检查 OpenAPI Schema 是否包含 `submitFeedback` 操作
2. 使用更明确的触发语句："我要提交反馈：这个回答很有用"
3. 直接测试反馈 API：
   ```powershell
   $feedbackBody = @{
     conversationId = "test-123"
     rating = 5
     isHelpful = $true
     comment = "测试反馈"
   } | ConvertTo-Json
   Invoke-RestMethod -Uri "https://douglasmo.vercel.app/api/feedback" -Method Post -Body $feedbackBody -ContentType "application/json"
   ```

---

## 📈 性能基准

基于典型部署，预期性能如下：

| 指标 | 目标值 | 可接受范围 |
|------|--------|------------|
| **API 响应时间** | < 3 秒 | < 5 秒 |
| **RAG 准确率** | > 90% | > 80% |
| **GPT 调用成功率** | 100% | > 95% |
| **信息完整性** | 高（包含具体数字和案例） | 中等（有基本信息） |

---

## ✅ 测试完成检查清单

测试完成后，确认以下各项：

- [ ] 所有 10 个测试提示均已执行
- [ ] 至少 8/10 的测试响应质量 ≥ 4 星
- [ ] API 调用成功率 ≥ 90%
- [ ] 发现的问题已记录在测试记录表
- [ ] 关键问题已修复或有解决方案
- [ ] GPT 分享链接已保存
- [ ] 测试结果已更新到文档（下一步创建）

---

## 📝 测试后行动

1. **记录结果**：
   - 填写测试记录表
   - 截图优秀的响应示例
   - 记录所有错误消息和日志

2. **优化调整**（如有必要）：
   - 更新 GPT Instructions 使 API 调用更可靠
   - 调整 RAG 参数提高准确率
   - 补充缺失的数据到向量数据库

3. **文档更新**：
   - 在 `FINAL_DEPLOYMENT.md` 中添加测试结果摘要
   - 创建 `测试结果报告.md`（包含截图和问题列表）
   - 更新 README.md 的使用说明

4. **分享发布**：
   - 把 GPT 链接分享给招聘经理或同事
   - 准备演示 PPT 展示功能
   - 考虑发布到 GPT Store（可选）

---

## 🎯 下一步

测试完成后，把以下信息反馈给我：

1. **GPT 分享链接**（`https://chat.openai.com/g/g-xxxxx`）
2. **测试记录表**（填写好的版本）
3. **遇到的问题**（如果有，包含错误消息或截图）
4. **优秀响应示例**（1-2 个最满意的对话）

我会帮助：
- ✅ 诊断并修复所有问题
- ✅ 优化 GPT Instructions 和 Schema
- ✅ 生成最终测试报告
- ✅ 准备演示材料

---

**创建日期**：2025-11-01  
**文档版本**：1.0  
**相关文档**：
- `GPT_配置指南.md` - GPT 创建步骤
- `FINAL_DEPLOYMENT.md` - 完整部署指南
- `API_DEPLOYMENT_GUIDE.md` - API 端点验证
